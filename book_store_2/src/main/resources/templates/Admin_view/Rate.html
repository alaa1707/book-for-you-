<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <title>Rate</title>
    <link rel="shortcut icon" type="image/x-icon" href="/assets/img/bookStore-logo.jpg">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="/assets/plugins/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/feathericon.min.css">
    <link rel="stylehseet" href="https://cdn.oesmith.co.uk/morris-0.5.1.css">
    <link rel="stylesheet" href="/assets/plugins/morris/morris.css">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
    <!-- start header -->
    <div class="main-wrapper">
        <div class="header">
            <div class="header-left">
                <a href="index.html" class="logo"> <img src="/assets/img/bookStore-logo.jpg" width="50" height="70"
                                                        alt="logo">
                    <span class="logoclass">Book Store</span> </a>
                <a href="index.html" class="logo logo-small"> <img src="/assets/img/bookStore-logo.jpg" alt="Logo" width="30"
                                                                   height="30"> </a>
            </div>
            <!-- end header -->
            <a href="javascript:void(0);" id="toggle_btn"> <i class="fe fe-text-align-left"></i> </a>
            <a class="mobile_btn" id="mobile_btn"> <i class="fas fa-bars"></i> </a>
            <!-- start  notifications-->
            <ul class="nav user-menu">

                <li class="nav-item dropdown has-arrow">
                    <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
						<span class="user-img"><img class="rounded-circle" src="/assets/img/bookStore-logo.jpg" width="31"
                                                    alt="Soeng Souy" /></span>
                    </a>
                    <div class="dropdown-menu">
                        <div class="user-header">
                            <div class="avatar avatar-sm">
                                <img src="/assets/img/bookStore-logo.jpg" alt="User Image" class="avatar-img rounded-circle" />
                            </div>
                            <div class="user-text">
                                <h6>Book Store</h6>
                                <p class="text-muted mb-0">Administrator</p>
                            </div>
                        </div>
                        <a class="dropdown-item" href="/bookStore/logoutAdmin">Logout</a>
                    </div>
                </li>
            </ul>
        </div>

            <!-- end logout dropdown -->

            <!-- start side bar-->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-inner slimscroll">
                    <div id="sidebar-menu" class="sidebar-menu">
                        <ul>
                            <li> <a href="/bookStore/dashboard"><i class="fas fa-tachometer-alt"></i>
                                <span>Dashboard</span></a> </li>
                            <li class="list-divider"></li>
                            <li><a href="/bookStore/orders"><i class="fas fa-suitcase"></i><span> Orders
								</span></a></li>

                            <li> <a href="/bookStore/books"><i class="fas fa-book"></i> <span>All Books</span></a></li>
                            <li><a href="/bookStore/allCustomers"><i class="fas fa-user"></i><span> Customers </span></a>
                            </li>

                            <li> <a href="/bookStore/offers"><i class="far fa-money-bill-alt"></i> <span>Offers</span></a>
                            </li>
                            <li> <a href="/bookStore/contacts"><i class="fas fa-envelope"></i> <span>Contact</span></a> </li>
                            <li> <a href="/bookStore/rates"><i class="far fa-star"></i> <span>Rate</span></a> </li>
                            <li> <a href="/bookStore/invoices"><i class="far fa-money-bill-alt"></i> <span>Invoices</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!--end side bar-->
            <div class="page-wrapper">
                <div class="content container-fluid">
                    <div class="page-header">

                        <!--card 1 -->

                        <div class="card-list">
                            <!-- Iterate over the list of cards and generate HTML for each card -->
                            <div th:each="rate,stat : ${rates}" class="cards">
                                <div class="image-container">
                                    <img
                                            style="max-width: 200px; min-height: 240px; border-top-right-radius: 80px;  border-top-left-radius: 80px;"
                                            th:src="'data:image/png;base64,' + ${encodedImages[__${stat.index}__]}" alt="Book Image">
                                </div>
                                <div class="title">
                                    <h2 th:text="${rate.user.name}"></h2>
                                </div>
                                <div class="description">
                                    <p th:text="${rate.review}"></p>
                                    <!-- Add stars dynamically based on the number of stars -->
                                    <div class="star-rating">
                                        <span th:each="starNumber : ${#numbers.sequence(1,5)}" th:class="${starNumber le rate.numOfStars} ? 'fa fa-star checked' : 'fa fa-star opa'"></span>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>

        <!-- Start Script 1 -->
        <script data-cfasync="false"
            src="../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
        <script src="/assets/js/jquery-3.5.1.min.js"></script>
        <script src="/assets/js/popper.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>
        <script src="/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
        <script src="/assets/plugins/raphael/raphael.min.js"></script>
        <script src="/assets/plugins/morris/morris.min.js"></script>
        <script src="/assets/js/chart.morris.js"></script>
        <script src="/assets/js/select2.min.js"></script>



        <!-- important -->
        <script src="/assets/js/script.js"></script>

        <script src="/assets/js/jquery-3.5.1.min.js"></script>
        <script src="/assets/js/popper.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>
        <script src="/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
        <script src="/assets/plugins/datatables/jquery.dataTables.min.js"></script>
        <script src="/assets/plugins/datatables/datatables.min.js"></script>
        <script src="/assets/js/script.js"></script>
        <script src="/assets/js/Add-user.js"></script>

        <script data-cfasync="false"
            src="../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
        <script src="/assets/js/jquery-3.5.1.min.js"></script>

        <script src="/assets/js/popper.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>

        <script src="/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>

        <script src="/assets/js/script.js"></script>

        <!-- End Script 1 -->
    <script th:inline="javascript">
    var numStars = [[${numStars}]]; // Retrieve the number of stars from the model
    for (let i = 0; i < 5; i++) {
        const starSpan = document.createElement("span");
        starSpan.classList.add("fa", "fa-star", i < numStars ? "checked" : "opa");
        document.getElementById("starRating").appendChild(starSpan);
    }
</script>

</body>

</html>